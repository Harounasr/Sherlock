<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="jakarta.faces.html"
        xmlns:f="jakarta.faces.core"
        xmlns:ui="jakarta.faces.facelets"
        xmlns:comp="jakarta.faces.composite/components">

    <h:head>
        <ui:define name="title">Testates</ui:define>
    </h:head>

    <h:body>
        <title>Testates</title>
        <ui:composition template="../../resources/templates/mainTemplate.xhtml">

           <!-- <f:metadata>
                <f:param name="exerciseId" value="#{allTestatesPaginationBean.course.name}" />
            </f:metadata> -->

            <ui:define name="content">

                <div class="container mt-3">
                    <h:messages globalOnly="true"/>
                    <h2 class="mb-3">Exercise List</h2>
                    <h:form>
                        <comp:paginationSearch backingBean="#{allTestatesPaginationBean}" />
                    </h:form>

                    <h:dataTable value="#{allTestatesPaginationBean.testates}" var="testate"
                                 first="#{allTestatesPaginationBean.pagination.currentIndex}" rows="#{allTestatesPaginationBean.pagination.pageSize}"
                                 styleClass="table table-striped table-bordered w-100">
                        <h:column>
                            <f:facet name="header">ID</f:facet>
                            #{testate.submission.user}
                        </h:column>

                        <h:column>
                            <f:facet name="header">Details</f:facet>
                            <h:form>
                                <h:commandButton value="Details" action="#{allTestatesPaginationBean.selectTestate(testate)}" class="btn btn-primary"/>
                            </h:form>
                        </h:column>
                    </h:dataTable>

                    <h:form>
                        <comp:pagination backingBean="#{allTestatesPaginationBean}" />
                    </h:form>
                </div>
            </ui:define>
        </ui:composition>
    </h:body>
</f:view>
