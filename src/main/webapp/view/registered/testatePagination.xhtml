<!DOCTYPE html >
<html xmlns:h="jakarta.faces.html"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:comp="jakarta.faces.composite/components"
      xmlns:f="jakarta.faces.core">
<f:view>
    <h:panelGroup styleClass="mt-2">
    <div class="container mt-3">
        <h:messages globalOnly="true"/>
        <h2 class="mb-3">Testates List</h2>
        <h:form>
            <comp:paginationSearch backingBean="#{allTestatesPaginationBean}"/>
        </h:form>
        <h:form>
            <h:dataTable value="#{allTestatesPaginationBean.testates}" var="testate"
                         first="#{allTestatesPaginationBean.pagination.currentIndex}" rows="#{allTestatesPaginationBean.pagination.pageSize}"
                         styleClass="table table-striped table-bordered w-100">
                <h:column>
                    <f:facet name="header">ID</f:facet>
                    #{testate.submission.user}
                </h:column>
                <h:column>
                    <f:facet name="header">corrected by</f:facet>
                    #{testate.submission.tutor}
                </h:column>

                <h:column>
                    <f:facet name="header">Details</f:facet>
                    <h:form>
                        <h:commandButton styleClass="pagination-content-button" value="to testate"
                                         action="#{allTestatesPaginationBean.selectTestate(testate)}"/>
                    </h:form>
                </h:column>
            </h:dataTable>
        </h:form>

        <h:form>
            <comp:pagination backingBean="#{allTestatesPaginationBean}"/>
        </h:form>
    </div>
    </h:panelGroup>
    <h:panelGroup rendered="#{empty allTestatesPaginationBean.testates}" styleClass="mt-2">
        <h3> There are no testates</h3>
    </h:panelGroup>
</f:view>
</html>
