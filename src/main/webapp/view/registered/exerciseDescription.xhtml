<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
</h:head>

<h:body>
    <h:form enctype="multipart/form-data">
        <h:panelGroup rendered="#{!exerciseDescriptionBean.editMode}">
            <h:commandButton value="Edit" action="#{exerciseDescriptionBean.startEditMode}"/>
            <br/>
            <iframe srcdoc="#{exerciseDescriptionBean.exercise.description}" style="height: 700px; width: 1200px;"></iframe>
        </h:panelGroup>

        <h:panelGroup rendered="#{exerciseDescriptionBean.editMode}">
            <h:commandButton value="Save" action="#{exerciseDescriptionBean.saveAndDisableEditMode}"/>
            <br/>
            <h:inputTextarea value="#{exerciseDescriptionBean.exercise.description}" rows="20" cols="180" wrap="off"
                             style="resize: none; width: 100%; white-space: nowrap; overflow: scroll; text-overflow: fade;"/>
            <div class="form-group">
                <label for="file">Choose an image:</label>
                <h:inputFile id="file" value="#{exerciseDescriptionBean.uploadedImage}"/>
                <h:commandButton value="Convert to &lt;img&gt; Component" action="#{exerciseDescriptionBean.uploadImage()}" class="btn btn-primary"/>
                <h:outputText value="Component: #{exerciseDescriptionBean.imgComponent}"
                              style="resize: none; width: 100%; white-space: nowrap; overflow: scroll; text-overflow: fade;"/>
            </div>
        </h:panelGroup>
    </h:form>
</h:body>


</html>
